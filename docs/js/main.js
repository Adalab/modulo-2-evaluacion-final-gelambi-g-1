const S=document.querySelector(".js-input-search"),v=document.querySelector(".js-btn-search"),a=document.querySelector(".js-listResult");document.querySelector(".js-box-result");const o=document.querySelector(".js-listFav"),f=document.querySelector(".js-box-fav"),g=document.querySelector(".js-btn-reset"),h=document.querySelector(".js-resetFav");let l=[],n=[];function u(t){a.innerHTML="";for(const e of t){a.innerHTML+="";const i=document.createElement("li");a.appendChild(i),i.setAttribute("class","list-element js-list-element"),i.setAttribute("id",e.mal_id);const c=document.createElement("article");i.appendChild(c),c.setAttribute("class","list-direction");const r=document.createElement("img");r.setAttribute("src",e.images.jpg.image_url);const s=document.createElement("p"),p=document.createTextNode(e.title);s.appendChild(p),c.append(r,s),e.images.jpg.image_url==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"&&r.setAttribute("src","https://placehold.co/220x310?text=Imagen+no+disponible"),L()}}function m(){o.innerHTML="";for(const t of n)f.classList.remove("hidden"),o.innerHTML+=`<li class="list-li">
            <article>
                <img src="${t.images.jpg.image_url}" alt="">
                <p>${t.title}</p>
            </article>
        </li>
        <input class="js-resetFav" type="submit" value="X"/>`}function j(t){const e=parseInt(t.currentTarget.id),i=l.find(s=>s.mal_id===e),c=n.find(s=>s.mal_id===e),r=t.currentTarget;c||(n.push(i),r.classList.add("favorite")),m(),localStorage.setItem("seriesFav",JSON.stringify(n))}function L(){const t=document.querySelectorAll(".js-list-element");for(const e of t)e.addEventListener("click",j)}function y(t){t.preventDefault();const e=S.value,i=document.querySelector(".js-span-no-title");e===""?(i.innerHTML="No hay nada",l=[]):(i.innerHTML="",F(e)),u(l)}v.addEventListener("click",y);function F(t){fetch(`https://api.jikan.moe/v4/anime?q=${t}`).then(e=>e.json()).then(e=>{l=e.data,u(l),localStorage.setItem("seriesFav",JSON.stringify(n))})}const d=localStorage.getItem("seriesFav");d&&(n=JSON.parse(d));m();g.addEventListener("click",()=>{localStorage.clear(),location.reload()});h.addEventListener("click",()=>{n.splice(1,1)});
//# sourceMappingURL=main.js.map
