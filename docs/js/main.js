const S=document.querySelector(".js-input-search"),f=document.querySelector(".js-btn-search"),a=document.querySelector(".js-listResult");document.querySelector(".js-box-result");const o=document.querySelector(".js-listFav"),g=document.querySelector(".js-box-fav"),h=document.querySelector(".js-btn-reset");let l=[],s=[];function u(t){a.innerHTML="";for(const e of t){a.innerHTML+="";const i=document.createElement("li");a.appendChild(i),i.setAttribute("class","list-element js-list-element"),i.setAttribute("id",e.mal_id);const c=document.createElement("article");i.appendChild(c),c.setAttribute("class","list-direction");const r=document.createElement("img");r.setAttribute("src",e.images.jpg.image_url);const n=document.createElement("p"),p=document.createTextNode(e.title);n.appendChild(p),c.append(r,n),e.images.jpg.image_url==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"&&r.setAttribute("src","https://placehold.co/220x310?text=Imagen+no+disponible"),j()}}function m(){o.innerHTML="";for(const t of s)g.classList.remove("hidden"),o.innerHTML+=`<li class="list-li">
            <article>
                <img src="${t.images.jpg.image_url}" alt="">
                <p>${t.title}</p>
            </article>
        </li>`}function v(t){const e=parseInt(t.currentTarget.id),i=l.find(n=>n.mal_id===e),c=s.find(n=>n.mal_id===e),r=t.currentTarget;c||(s.push(i),r.classList.add("favorite")),m(),localStorage.setItem("seriesFav",JSON.stringify(s))}function j(){const t=document.querySelectorAll(".js-list-element");for(const e of t)e.addEventListener("click",v)}function L(t){t.preventDefault();const e=S.value,i=document.querySelector(".js-span-no-title");e===""?(i.innerHTML="No hay nada",l=[]):(i.innerHTML="",b(e)),u(l)}f.addEventListener("click",L);function b(t){fetch(`https://api.jikan.moe/v4/anime?q=${t}`).then(e=>e.json()).then(e=>{l=e.data,u(l),localStorage.setItem("seriesFav",JSON.stringify(s))})}const d=localStorage.getItem("seriesFav");d&&(s=JSON.parse(d));m();h.addEventListener("click",()=>{localStorage.clear(),location.reload()});
//# sourceMappingURL=main.js.map
